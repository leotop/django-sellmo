{% load widget_tweaks %}
<form method="post" action="{% url 'cart.edit_purchase' purchase.pk %}{% if query %}?{{ query }}{% endif %}">{% csrf_token %}
  {% for field in form %}
    <div class="form-group{% if field.errors %} has-error{% endif %}">
      {% render_field field class+=field.name class+="form-control" %}
    </div>
  {% endfor %}
  <input type="submit" name="update" value="Update" class="btn btn-default"/>
  <input type="submit" name="remove" value="Remove" class="btn btn-danger"/>
</form>